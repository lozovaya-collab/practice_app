(function(t){function e(e){for(var n,c,i=e[0],s=e[1],u=e[2],l=0,f=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={index:0},o=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/drag_grop_vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=s;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a=Object(n["e"])("h1",null,"DRAG AND DROP PROJECT",-1),o={class:"todo-app"};function c(t,e,r,c,i,s){var u=Object(n["i"])("Desk"),d=Object(n["i"])("v-app");return Object(n["g"])(),Object(n["c"])(d,null,{default:Object(n["k"])((function(){return[a,Object(n["e"])("div",o,[(Object(n["g"])(!0),Object(n["d"])(n["a"],null,Object(n["h"])(t.categories,(function(e){return Object(n["g"])(),Object(n["c"])(u,{key:e.id,categoryID:e.id,categoryTitle:e.title,tasks:t.tasks},null,8,["categoryID","categoryTitle","tasks"])})),128))])]})),_:1})}r("4de4"),r("d3b7");var i={class:"desk_title"},s={class:"desk_tasks"};function u(t,e,r,a,o,c){var u=Object(n["i"])("Task");return Object(n["g"])(),Object(n["d"])("div",{class:"desk",onDrop:e[0]||(e[0]=function(t){return c.onDrop(t,r.categoryID)}),style:Object(n["f"])({height:"".concat(82+42*(t.items.filter((function(t){return t.categoryId===r.categoryID})).length-1),"px")}),onDragover:e[1]||(e[1]=Object(n["l"])((function(){}),["prevent"])),onDragenter:e[2]||(e[2]=Object(n["l"])((function(){}),["prevent"]))},[Object(n["e"])("div",i,[Object(n["e"])("h4",null,Object(n["j"])(r.categoryTitle),1)]),Object(n["e"])("div",s,[(Object(n["g"])(!0),Object(n["d"])(n["a"],null,Object(n["h"])(t.items.filter((function(t){return t.categoryId===r.categoryID})),(function(t,e){return Object(n["g"])(),Object(n["c"])(u,{key:t.id,style:Object(n["f"])({top:"".concat(40*e,"px")}),onDragstart:function(e){return c.onDragStart(e,t)},onDragover:function(e){return c.onDragOver(t)},draggable:"true",task:t},null,8,["style","onDragstart","onDragover","task"])})),128))])],36)}var d=r("2909"),l=(r("25f0"),r("d81d"),r("c740"),r("99af"),r("fb6a"),{class:"desk_tasks__item"});function f(t,e,r,a,o,c){return Object(n["g"])(),Object(n["d"])("div",l,[Object(n["e"])("h5",null,Object(n["j"])(r.task.title),1)])}var b={name:"Task",props:["task"],beforeMount:function(){}},p=r("6b0d"),g=r.n(p);const O=g()(b,[["render",f]]);var j=O,v={name:"Desk",props:["categories","tasks","categoryID","categoryTitle"],components:{Task:j},data:function(){return{items:[],currTask:null}},watch:{tasks:{handler:function(){this.items=this.tasks},deep:!0},items:function(){this.$emit("update:tasks",this.items)}},methods:{onDragStart:function(t,e){t.dataTransfer.dropEffect="none",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("taskId",e.id.toString())},onDrop:function(t,e){var r=this;t.dataTransfer.dropEffect="move";var n=parseInt(t.dataTransfer.getData("taskId"));this.items.value=this.items.map((function(t){return t.id==n&&(r.addTaskToArray(r.currTask,t,r.items),t.categoryId=e),t}))},onDragOver:function(t){this.currTask=t},addTaskToArray:function(t,e,r){var n=r.findIndex((function(t){return t.id===e.id}));return-1!==n?[].concat(Object(d["a"])(r.slice(0,n+1)),[t],Object(d["a"])(r.slice(n+1))):r}},beforeMount:function(){this.items=this.tasks}};const y=g()(v,[["render",u]]);var k=y,h={name:"App",components:{Desk:k},data:function(){return{tasks:[{id:2,title:"Вымыть полы",categoryId:2},{id:1,title:"Сходить к стоматологу",categoryId:0},{id:0,title:"Написать отчет",categoryId:1},{id:3,title:"Вынести мусор",categoryId:2},{id:4,title:"Сходить в магазин",categoryId:0},{id:5,title:"Купить овощи",categoryId:0},{id:6,title:"Встреча с родителями",categoryId:2}],categories:[{id:0,title:"Сделать"},{id:1,title:"В процессе"},{id:2,title:"Закончено"}]}}};r("abdb");const m=g()(h,[["render",c]]);var D=m;Object(n["b"])(D).mount("#app")},"645f":function(t,e,r){},abdb:function(t,e,r){"use strict";r("645f")}});
//# sourceMappingURL=index.e6ca1943.js.map